(this["webpackJsonppayment-backend-app"]=this["webpackJsonppayment-backend-app"]||[]).push([[10],{1173:function(e,t,a){"use strict";a.r(t);var n=a(300),r=a(31),i=a(3),o=a.n(i),c=a(962),l=a(38),s=a(0),u=a.n(s),p=a(873),m=a(920),d=a(271),g=a(37),b=a(7),f=a(11),y=a(919),E=a(1176),h=a(78),v=a(896),j=a(1130),O=a.n(j),C=a(990),k=a.n(C),x=a(1131),N=a.n(x),T=a(79).I18n,P=Object(p.a)((function(e){return{root:{},link:{display:"flex"},icon:{marginRight:e.spacing(1),width:20,height:20},label:{color:f.a.grey[900],padding:e.spacing(0,1.5),fontWeight:"bold"},typo:{display:"flex",marginTop:e.spacing(.5),alignItems:"center","& > * + *":{marginLeft:e.spacing(2)}}}})),S=function(e){var t=e.className,a=e.allowCheckout,n=e.onCheckout,r=Object(g.a)(e,["className","allowCheckout","onCheckout"]),i=P();return u.a.createElement("div",Object.assign({},r,{className:Object(b.a)(i.root,t)}),u.a.createElement(y.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},u.a.createElement(y.a,{item:!0},u.a.createElement(E.a,{separator:u.a.createElement(k.a,{fontSize:"small"}),"aria-label":"breadcrumb"},u.a.createElement(h.a,{className:i.link,color:"inherit"},u.a.createElement(O.a,{className:i.icon}),T.t("nav.data.default")),u.a.createElement(h.a,{className:i.link,color:"inherit"},T.t("nav.data.products"))),u.a.createElement("div",{className:i.typo},u.a.createElement(h.a,{component:"h1",variant:"h3"},T.t("products.header")))),u.a.createElement(y.a,{item:!0,className:i.actions},u.a.createElement(v.a,{color:"secondary",disabled:!a,onClick:function(){n()},startIcon:u.a.createElement(N.a,null),variant:"contained"},"Checkout"))))},w=a(1137),L=a(909),R=a(904),I=a(1182),A=a(1155),B=a(1136),_=a.n(B),H=a(1135),M=a.n(H),D=a(1132),z=a.n(D),W=Object(p.a)((function(e){return{root:Object(r.a)(Object(r.a)({},e.typography.button),{},{listStyle:"none",userSelect:"none",display:"flex",alignItems:"center"}),active:{},activeLink:{},break:{},breakLink:{},disabled:{},next:{marginLeft:e.spacing(1)},nextLink:{padding:"6px 16px",outline:"none",cursor:"pointer",borderRadius:4,"&:hover":{backgroundColor:f.a.blueGrey[50]}},page:{},pageLink:{color:e.palette.text.secondary,padding:e.spacing(1),outline:"none",cursor:"pointer",width:40,height:40,borderRadius:"50%",display:"block",textAlign:"center","&:hover":{backgroundColor:f.a.blueGrey[50],color:e.palette.text.primary},"&$activeLink":{backgroundColor:f.a.blueGrey[50],color:e.palette.text.primary}},previous:{marginRight:e.spacing(1)},previousLink:{padding:"6px 16px",outline:"none",cursor:"pointer",borderRadius:4,"&:hover":{backgroundColor:f.a.blueGrey[50]}}}}));function G(e){var t=e.pageCount,a=e.pageRangeDisplayed,n=e.onPageChange,r=e.className,i=Object(g.a)(e,["pageCount","pageRangeDisplayed","onPageChange","className"]),o=W();return u.a.createElement(z.a,Object.assign({activeClassName:o.active,activeLinkClassName:o.activeLink,breakClassName:o.break,breakLabel:"...",breakLinkClassName:o.breakLink,containerClassName:Object(b.a)(o.root,r),disabledClassName:o.disabled,marginPagesDisplayed:2,nextClassName:o.next,nextLabel:"next",nextLinkClassName:o.nextLink,onPageChange:n,pageClassName:o.page,pageCount:t,pageLinkClassName:o.pageLink,pageRangeDisplayed:a,previousClassName:o.previous,previousLabel:"previous",previousLinkClassName:o.previousLink,subContainerClassName:"pages pagination"},i))}G.defaultProps={onPageChange:function(){},pageCount:3,pageRangeDisplayed:5};var J=G,U=a(1148),q=a(1153),F=a(1149),Y=a(1154),$=a(912),K=a(1133),Q=a.n(K),V=a(1134),X=a.n(V),Z=a(963),ee=Object(p.a)((function(){return{root:{outline:"none"},media:{height:0,paddingTop:"85%"},cart:{marginLeft:"auto !important"}}}));var te=function(e){var t=e.object,a=e.className,n=e.onAdded,r=e.onRemoved,i=Object(g.a)(e,["object","className","onAdded","onRemoved"]),o=ee(),c=Object(s.useState)(t.isSelected||!1),p=Object(l.a)(c,2),m=p[0],d=p[1];return u.a.createElement(U.a,Object.assign({},i,{className:Object(b.a)(o.root,a)}),u.a.createElement(q.a,{className:o.media,image:t.imageUrl,src:"img"}),u.a.createElement(F.a,{className:o.content},u.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),u.a.createElement(h.a,{gutterBottom:!0,color:"textSecondary",variant:"subtitle2",component:"h4"},u.a.createElement(Z.a,{value:t.price.toNumber(),displayType:"text",prefix:"\u0e3f",thousandSeparator:!0})),u.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},t.description)),u.a.createElement(Y.a,null,u.a.createElement($.a,{"aria-label":"add to favorite"},u.a.createElement(Q.a,null)),!m&&u.a.createElement(v.a,{className:o.cart,size:"small",color:"secondary",variant:"contained",onClick:function(){d(!0),n()}},"Add to cart"),m&&u.a.createElement(v.a,{className:o.cart,size:"small",color:"primary",onClick:function(){d(!1),r()},startIcon:u.a.createElement(X.a,null)},"Remove")))},ae=a(79).I18n,ne=Object(p.a)((function(e){return{root:{},header:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",marginBottom:e.spacing(2)},title:{position:"relative","&:after":{position:"absolute",bottom:-8,left:0,content:'" "',height:3,width:48,backgroundColor:e.palette.primary.main}},actions:{display:"flex",alignItems:"center"},sortButton:{textTransform:"none",letterSpacing:0,marginRight:e.spacing(2)},paginate:{marginTop:e.spacing(3),display:"flex",justifyContent:"center"}}}));var re=function(e){var t=e.className,a=e.objects,n=e.onChangePage,r=e.onProductAdded,i=e.onProductRemoved,o=e.onSorting,c=e.page,p=e.rowsPerPage,m=e.total,d=Object(g.a)(e,["className","objects","onChangePage","onProductAdded","onProductRemoved","onSorting","page","rowsPerPage","total"]),f=ne(),E=Object(s.useRef)(null),j=Object(s.useState)(!1),O=Object(l.a)(j,2),C=O[0],k=O[1],x=Object(s.useState)("title"),N=Object(l.a)(x,2),T=N[0],P=N[1],S=Object(s.useState)("grid"),B=Object(l.a)(S,2),H=B[0],D=B[1],z=[{id:"title",title:ae.t("sorting.item"),order:"asc"},{id:"created_date",title:ae.t("sorting.item2"),order:"desc"}];return u.a.createElement("div",Object.assign({},d,{className:Object(b.a)(f.root,t)}),u.a.createElement("div",{className:f.header},u.a.createElement(h.a,{className:f.title,variant:"h5"},m,ae.t("result_table.hint"),c+1,ae.t("result_table.hint2"),Math.ceil(m/p)),u.a.createElement("div",{className:f.actions},u.a.createElement(v.a,{className:f.sortButton,onClick:function(){k(!0)},ref:E},z.filter((function(e){return e.id===T})).map((function(e){return e.title})),u.a.createElement(M.a,null)),u.a.createElement(I.a,{exclusive:!0,onChange:function(e,t){D(t)},size:"small",value:H},u.a.createElement(A.a,{value:"grid"},u.a.createElement(_.a,null))))),u.a.createElement(y.a,{container:!0,spacing:3},a.map((function(e,t){return u.a.createElement(y.a,{item:!0,key:e.id,md:"grid"===H?4:12,sm:"grid"===H?6:12,xs:12},u.a.createElement(te,{key:e.id,object:e,onAdded:function(){return function(e){r(a[e])}(t)},onRemoved:function(){return function(e){i(a[e].id)}(t)}}))}))),u.a.createElement("div",{className:f.paginate},u.a.createElement(J,{nextLabel:ae.t("btn.next"),previousLabel:ae.t("btn.previous"),onPageChange:function(e){n(e.selected)},pageCount:Math.ceil(m/p)})),u.a.createElement(w.a,{anchorEl:E.current,className:f.menu,onClose:function(){k(!1)},open:C,elevation:1},z.map((function(e){return u.a.createElement(L.a,{className:f.menuItem,key:e.id,onClick:function(){return P((t=e).id),k(!1),void o(t.order,t.id);var t}},u.a.createElement(R.a,{primary:e.title}))}))))},ie=a(269),oe=a(906),ce=a(907),le=a(1147),se=a(1140),ue=a.n(se),pe=a(510),me=a(511),de=a(447),ge=a(964),be=a.n(ge),fe=a(1156),ye=a(1157),Ee=a(1158),he=a(1159),ve=a(1160),je=Object(p.a)((function(e){return{root:{margin:e.spacing(0,-3)},inner:{minWidth:600},content:{padding:0},qty:{width:66,"& input":{textAlign:"center"}}}})),Oe=function(e){var t=e.className,a=e.objects,n=(e.shippingPrice,e.totalPrice),r=e.totalETH,i=Object(g.a)(e,["className","objects","shippingPrice","totalPrice","totalETH"]),o=je();return u.a.createElement("div",Object.assign({},i,{className:Object(b.a)(o.root,t)}),u.a.createElement(be.a,null,u.a.createElement("div",{className:o.inner},u.a.createElement(fe.a,null,u.a.createElement(ye.a,null,u.a.createElement(Ee.a,null,[{id:"no",label:"\u0e25\u0e33\u0e14\u0e31\u0e1a",align:"center",sorting:!0},{id:"title",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",align:"left",sorting:!0},{id:"price",label:"\u0e23\u0e32\u0e04\u0e32\u0e15\u0e48\u0e2d\u0e0a\u0e34\u0e49\u0e19",align:"right",sorting:!0}].map((function(e){return u.a.createElement(he.a,{key:e.id,align:e.align},e.label)})))),u.a.createElement(ve.a,null,a.map((function(e,t){return u.a.createElement(Ee.a,{hover:!0,key:e.id},u.a.createElement(he.a,{align:"center"},u.a.createElement(h.a,{variant:"h6"},u.a.createElement(Z.a,{value:t+1,displayType:"text",thousandSeparator:!0}))),u.a.createElement(he.a,null,u.a.createElement("strong",null,e.name)),u.a.createElement(he.a,{align:"right"},u.a.createElement("strong",null,u.a.createElement(Z.a,{value:e.price.toNumber(),displayType:"text",prefix:"\u0e3f",thousandSeparator:!0}))))})),u.a.createElement(Ee.a,null,u.a.createElement(he.a,{align:"right",colSpan:2},u.a.createElement(h.a,{variant:"h6",color:"textSecondary"},"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14")),u.a.createElement(he.a,{align:"right"},u.a.createElement(h.a,{variant:"h6",color:"textSecondary"},u.a.createElement("strong",null,u.a.createElement(Z.a,{value:n,displayType:"text",prefix:"\u0e3f",thousandSeparator:!0}))))),u.a.createElement(Ee.a,null,u.a.createElement(he.a,{align:"right",colSpan:2},u.a.createElement(h.a,{variant:"h6",color:"textSecondary"},"\u0e0a\u0e33\u0e23\u0e30\u0e14\u0e49\u0e27\u0e22 Crypto")),u.a.createElement(he.a,{align:"right"},u.a.createElement(h.a,{variant:"h6",color:"textSecondary"},u.a.createElement("strong",null,u.a.createElement(Z.a,{decimalScale:6,value:r,displayType:"text",prefix:"\u2248 ",suffix:" ETH",thousandSeparator:!0}))))))))))},Ce=a(992),ke=a.n(Ce),xe=a(279),Ne=a(966),Te=a(1145),Pe=a(946),Se=a(944),we=a(515),Le=a(516),Re=a(934),Ie=a(79).I18n,Ae=Object(p.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",boxShadow:e.shadows[20],width:700,maxHeight:"100%",overflowY:"auto",maxWidth:"100%"},header:{padding:e.spacing(.5,0)},content:{padding:e.spacing(0,3,3)},container:{},actions:{backgroundColor:e.palette.background.default,justifyContent:"flex-end"},wrapper:{position:"relative",display:"inline-block"},buttonProgress:{color:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Be=function(e){var t=e.className,a=e.open,n=e.onClose,r=e.products,i=Object(g.a)(e,["className","open","onClose","products"]),p=Ae(),m=Object(s.useState)(!1),d=Object(l.a)(m,2),f=d[0],E=d[1],j=Object(s.useState)(!1),O=Object(l.a)(j,2),C=O[0],k=O[1],x=ke.a.sum(r.map((function(e){return e.price.toNumber()}))),N=Object(s.useState)(0),T=Object(l.a)(N,2),P=T[0],S=T[1],w=Object(xe.b)(),L=w.activate,R=w.library,I=new Pe.a({supportedChainIds:Re.b});if(!a)return null;Object(s.useEffect)((function(){L(I);we.a.get(Le.a,{params:{fsym:"ETH",tsyms:"THB"}}).then((function(e){if(200===e.status){var t=e.data;S(x/t.THB)}}),(function(e){return E(!1),e}))}),[]);var A=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Re.a,(a=new Ne.a(t,Se,R.getSigner())).on("PurchaseMade",(function(){k(!1),setTimeout((function(){n(!0)}),1e3)})),18,r={value:Object(Te.a)(P.toFixed(18))},a.purchase("OR-".concat(Date.now()),x,r).then((function(e){k(!0)})).catch((function(){k(!1),E(!1)})),e.abrupt("return",(function(){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(ie.a,{BackdropComponent:pe.a,BackdropProps:{timeout:500},closeAfterTransition:!0,disableBackdropClick:!0,onClose:function(){n(!1)},open:a},u.a.createElement(me.a,{in:a},u.a.createElement(U.a,Object.assign({},i,{className:Object(b.a)(p.root,t)}),u.a.createElement(oe.a,{title:u.a.createElement(h.a,{align:"center",className:p.header,color:"primary",variant:"h4"},"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e31\u0e48\u0e07\u0e0b\u0e37\u0e49\u0e2d\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13")}),u.a.createElement(ce.a,null),u.a.createElement(F.a,{className:p.content},u.a.createElement(y.a,{className:p.container,container:!0,spacing:3},u.a.createElement(y.a,{item:!0,md:12,xs:12},u.a.createElement(Oe,{objects:r,shippingPrice:0,totalPrice:x,totalETH:P})))),u.a.createElement(Y.a,{className:p.actions},u.a.createElement(v.a,{disabled:f,onClick:function(){n(!1)},variant:"text"},Ie.t("btn.close")),u.a.createElement("div",{className:p.wrapper},u.a.createElement(v.a,{className:p.submitButton,color:"secondary",disabled:f,onClick:function(){E(!0),A()},startIcon:u.a.createElement(ue.a,null),variant:"contained"},"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19"),f&&u.a.createElement(le.a,{size:24,className:p.buttonProgress}))),u.a.createElement(de.a,{message:"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07 Transaction \u0e1a\u0e19 Ethereum",onClose:function(){k(!1)},open:C}))))};Be.defaultProps={open:!1,onClose:function(){}};var _e=Be,He=a(871),Me=a(513),De=a(1141),ze=a.n(De),We=a(509),Ge=Object(p.a)((function(e){return{content:{backgroundColor:f.a.green[600]},message:{display:"flex",alignItems:"center"},icon:{marginRight:e.spacing(2)}}}));function Je(e){return u.a.createElement(We.a,Object.assign({},e,{direction:"down"}))}function Ue(e){var t=e.message,a=e.open,n=e.onClose,r=Ge();return u.a.createElement(He.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:6e3,onClose:n,open:a,TransitionComponent:Je},u.a.createElement(Me.a,{className:r.content,message:u.a.createElement("span",{className:r.message},u.a.createElement(ze.a,{className:r.icon}),t),component:"h6"}))}Ue.defaultProps={message:"",open:!0,onClose:function(){}};var qe=Ue,Fe=a(79).I18n,Ye=Object(p.a)((function(e){return{root:{padding:e.spacing(3,0)},results:{marginTop:e.spacing(3)}}}));t.default=function(){var e=Ye(),t=Object(s.useState)(null),a=Object(l.a)(t,2),i=a[0],p=a[1],g=Object(s.useState)(0),b=Object(l.a)(g,2),f=b[0],y=b[1],E=Object(s.useState)({search:"",type:"article",category_ids:"",tags:"",page:0,sort_by:"title",sort_order:"asc",rows_per_page:30}),h=Object(l.a)(E,2),v=h[0],j=h[1],O=Object(s.useState)([]),C=Object(l.a)(O,2),k=C[0],x=C[1],N=Object(s.useState)(!1),T=Object(l.a)(N,2),P=T[0],w=T[1],L=Object(s.useState)(!1),R=Object(l.a)(L,2),I=R[0],A=R[1],B=Object(xe.b)(),_=B.chainId,H=B.activate,M=B.active,D=B.library,z=new Pe.a({supportedChainIds:Re.b});Object(s.useEffect)((function(){H(z)}),[]),Object(s.useEffect)((function(){_&&M&&function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Re.a,a=new Ne.a(t,Se,D.getSigner()),e.next=4,a.getAllProduct();case 4:n=e.sent,p(n),y(n.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[_]);return u.a.createElement(d.a,{className:e.root,title:Fe.t("products.title")},u.a.createElement(m.a,{maxWidth:"lg"},u.a.createElement(S,{allowCheckout:k.length>0,onCheckout:function(){w(!0)}}),i&&i.length>0&&u.a.createElement(re,{className:e.results,objects:i,onChangePage:function(e){j(Object(r.a)(Object(r.a)({},v),{},{page:e}))},onProductAdded:function(e){var t=Object(n.a)(k);t.push(e),x(t)},onProductRemoved:function(e){var t=Object(n.a)(k),a=t.findIndex((function(t){return t.id===e}));t.splice(a,1),x(t)},onSorting:function(e,t){j(Object(r.a)(Object(r.a)({},v),{},{sort_by:t,sort_order:e}))},page:v.page,rowsPerPage:v.rows_per_page,total:f}),P&&u.a.createElement(_e,{onClose:function(e){e&&A(!0),w(!1)},open:P,products:k}),u.a.createElement(qe,{message:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e0b\u0e37\u0e49\u0e2d\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22\u0e41\u0e25\u0e49\u0e27",onClose:function(){A(!1)},open:I})))}},934:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=[1,3,4,5,42],r="0x67324C484f35Aae0004f60ff2A109219D2620CB5"},944:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"accountAddress","type":"address"},{"indexed":false,"internalType":"string","name":"no","type":"string"}],"name":"PurchaseMade","type":"event"},{"inputs":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string","name":"imageUrl","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"addProduct","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"no","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"}],"name":"purchase","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getAllOrder","outputs":[{"components":[{"internalType":"string","name":"no","type":"string"},{"internalType":"uint256","name":"totalPrice","type":"uint256"},{"internalType":"uint256","name":"totalETH","type":"uint256"},{"internalType":"uint256","name":"dateTime","type":"uint256"}],"internalType":"struct SimplePayment.Order[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllProduct","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string","name":"imageUrl","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"}],"internalType":"struct SimplePayment.Product[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')}}]);
//# sourceMappingURL=10.b7b321a5.chunk.js.map