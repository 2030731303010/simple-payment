{"version":3,"sources":["views/Products/ProductList/Header.js","components/Paginate.js","views/Products/ProductList/ProductCard.js","views/Products/ProductList/Results.js","views/Products/ProductList/CheckoutResults.js","views/Products/ProductList/CheckoutModal.js","components/Snackbars/SuccessSnackbar.js","views/Products/ProductList/index.js","configs/Constant.js"],"names":["locale","require","I18n","useStyles","makeStyles","theme","root","link","display","icon","marginRight","spacing","width","height","label","color","colors","grey","padding","fontWeight","typo","marginTop","alignItems","marginLeft","Header","className","allowCheckout","onCheckout","rest","classes","clsx","Grid","container","justify","item","Breadcrumbs","separator","fontSize","aria-label","Typography","t","component","variant","actions","Button","disabled","onClick","startIcon","typography","button","listStyle","userSelect","active","activeLink","break","breakLink","next","nextLink","outline","cursor","borderRadius","backgroundColor","blueGrey","page","pageLink","palette","text","secondary","textAlign","primary","previous","previousLink","Paginate","pageCount","pageRangeDisplayed","onPageChange","activeClassName","activeLinkClassName","breakClassName","breakLabel","breakLinkClassName","containerClassName","disabledClassName","marginPagesDisplayed","nextClassName","nextLabel","nextLinkClassName","pageClassName","pageLinkClassName","previousClassName","previousLabel","previousLinkClassName","subContainerClassName","defaultProps","media","paddingTop","cart","ProductCard","object","onAdded","onRemoved","useState","isSelected","setSelected","Card","CardMedia","image","imageUrl","src","CardContent","content","gutterBottom","name","value","price","toNumber","displayType","prefix","thousandSeparator","description","CardActions","IconButton","size","header","justifyContent","flexWrap","marginBottom","title","position","bottom","left","main","sortButton","textTransform","letterSpacing","paginate","Results","objects","onChangePage","onProductAdded","onProductRemoved","onSorting","rowsPerPage","total","sortRef","useRef","openSort","setOpenSort","selectedSort","setSelectedSort","mode","setMode","options","id","order","Math","ceil","ref","filter","option","map","ToggleButtonGroup","exclusive","onChange","event","ToggleButton","i","key","md","sm","xs","handleProductAdded","handleProductRemoved","selectedItem","selected","Menu","anchorEl","current","menu","onClose","open","elevation","MenuItem","menuItem","ListItemText","margin","inner","minWidth","qty","CheckoutResults","props","totalPrice","shippingPrice","totalETH","Table","TableHead","TableRow","align","sorting","headerCell","TableCell","TableBody","hover","colSpan","decimalScale","suffix","top","transform","boxShadow","shadows","maxHeight","overflowY","maxWidth","background","default","wrapper","buttonProgress","CheckoutModal","products","loading","setLoading","openSnackbar","setOpenSnackbar","_","sum","setTotalETH","useWeb3React","activate","library","injectedConnector","InjectedConnector","supportedChainIds","Constant","useEffect","axios","get","WebAPI","params","fsym","tsyms","then","response","status","data","THB","error","doCreate","a","address","contract","Contract","ERC20ABI","getSigner","on","setTimeout","overrides","parseEther","toFixed","purchase","Date","now","tx","catch","Modal","BackdropComponent","Backdrop","BackdropProps","timeout","closeAfterTransition","disableBackdropClick","Fade","in","CardHeader","Divider","submitButton","CircularProgress","InfoSnackbar","message","green","SlideTransition","Slide","direction","SuccessSnackbar","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","TransitionComponent","SnackbarContent","results","ProductList","setObjects","setTotal","search","type","category_ids","tags","sort_by","sort_order","rows_per_page","values","setValues","productIds","setProductIds","openModal","setOpenModal","chainId","getAllProduct","length","fetchObjects","Page","Container","newProductIds","push","index","findIndex","splice","sortOrder","sortBy","flag","SUPPORTED_CHAIN_IDS","SMART_CONTRACT_ADDR"],"mappings":"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","file":"static/js/10.b7b321a5.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n\tBreadcrumbs,\n\tButton,\n\tGrid,\n\tTypography,\n\tcolors\n} from '@material-ui/core';\n\nimport BookOutlinedIcon from '@material-ui/icons/BookOutlined';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport ShoppingCartRoundedIcon from '@material-ui/icons/ShoppingCartRounded';\n\nconst locale = require('react-redux-i18n').I18n;\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {},\n\tlink: {\n\t\tdisplay: 'flex',\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(1),\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n\tlabel: {\n\t\tcolor: colors.grey[900],\n\t\tpadding: theme.spacing(0, 1.5),\n\t\tfontWeight: 'bold'\n\t},\n\ttypo: {\n\t\tdisplay: 'flex',\n\t\tmarginTop: theme.spacing(0.5),\n\t\talignItems: 'center',\n\t\t'& > * + *': {\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t}\n\t},\n}));\n\nconst Header = ({\n\tclassName, allowCheckout, onCheckout, ...rest\n}) => {\n\tconst classes = useStyles();\n\n\t//\tFunctions\n\n\tconst handleCheckout = () => {\n\t\tonCheckout();\n\t};\n\n\treturn (\n\t\t<div\n\t\t\t{...rest}\n\t\t\tclassName={clsx(classes.root, className)}\n\t\t>\n\t\t\t<Grid\n\t\t\t\talignItems=\"flex-end\"\n\t\t\t\tcontainer\n\t\t\t\tjustify=\"space-between\"\n\t\t\t\tspacing={3}\n\t\t\t>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BookOutlinedIcon className={classes.icon} />\n\t\t\t\t\t\t\t{locale.t('nav.data.default')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{locale.t('nav.data.products')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t<div className={classes.typo}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tcomponent=\"h1\"\n\t\t\t\t\t\t\tvariant=\"h3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{locale.t('products.header')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid\n\t\t\t\t\titem\n\t\t\t\t\tclassName={classes.actions}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={!allowCheckout}\n\t\t\t\t\t\tonClick={handleCheckout}\n\t\t\t\t\t\tstartIcon={<ShoppingCartRoundedIcon />}\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t>\n\t\t\t\t\t\tCheckout\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n};\n\nHeader.propTypes = {\n\tclassName: PropTypes.string,\n\tallowCheckout: PropTypes.bool,\n\tonCheckout: PropTypes.func\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/styles';\nimport { colors } from '@material-ui/core';\nimport ReactPaginate from 'react-paginate';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t...theme.typography.button,\n\t\tlistStyle: 'none',\n\t\tuserSelect: 'none',\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t},\n\tactive: {},\n\tactiveLink: {},\n\tbreak: {},\n\tbreakLink: {},\n\tdisabled: {},\n\tnext: {\n\t\tmarginLeft: theme.spacing(1)\n\t},\n\tnextLink: {\n\t\tpadding: '6px 16px',\n\t\toutline: 'none',\n\t\tcursor: 'pointer',\n\t\tborderRadius: 4,\n\t\t'&:hover': {\n\t\t\tbackgroundColor: colors.blueGrey[50]\n\t\t}\n\t},\n\tpage: {},\n\tpageLink: {\n\t\tcolor: theme.palette.text.secondary,\n\t\tpadding: theme.spacing(1),\n\t\toutline: 'none',\n\t\tcursor: 'pointer',\n\t\twidth: 40,\n\t\theight: 40,\n\t\tborderRadius: '50%',\n\t\tdisplay: 'block',\n\t\ttextAlign: 'center',\n\t\t'&:hover': {\n\t\t\tbackgroundColor: colors.blueGrey[50],\n\t\t\tcolor: theme.palette.text.primary\n\t\t},\n\t\t'&$activeLink': {\n\t\t\tbackgroundColor: colors.blueGrey[50],\n\t\t\tcolor: theme.palette.text.primary\n\t\t}\n\t},\n\tprevious: {\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tpreviousLink: {\n\t\tpadding: '6px 16px',\n\t\toutline: 'none',\n\t\tcursor: 'pointer',\n\t\tborderRadius: 4,\n\t\t'&:hover': {\n\t\t\tbackgroundColor: colors.blueGrey[50]\n\t\t}\n\t}\n}));\n\nfunction Paginate({\n\tpageCount,\n\tpageRangeDisplayed,\n\tonPageChange,\n\tclassName,\n\t...rest\n}) {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<ReactPaginate\n\t\t\tactiveClassName={classes.active}\n\t\t\tactiveLinkClassName={classes.activeLink}\n\t\t\tbreakClassName={classes.break}\n\t\t\tbreakLabel=\"...\"\n\t\t\tbreakLinkClassName={classes.breakLink}\n\t\t\tcontainerClassName={clsx(classes.root, className)}\n\t\t\tdisabledClassName={classes.disabled}\n\t\t\tmarginPagesDisplayed={2}\n\t\t\tnextClassName={classes.next}\n\t\t\tnextLabel=\"next\"\n\t\t\tnextLinkClassName={classes.nextLink}\n\t\t\tonPageChange={onPageChange}\n\t\t\tpageClassName={classes.page}\n\t\t\tpageCount={pageCount}\n\t\t\tpageLinkClassName={classes.pageLink}\n\t\t\tpageRangeDisplayed={pageRangeDisplayed}\n\t\t\tpreviousClassName={classes.previous}\n\t\t\tpreviousLabel=\"previous\"\n\t\t\tpreviousLinkClassName={classes.previousLink}\n\t\t\tsubContainerClassName=\"pages pagination\"\n\t\t\t{...rest}\n\t\t/>\n\t);\n}\n\nPaginate.propTypes = {\n\tclassName: PropTypes.string,\n\tonPageChange: PropTypes.func,\n\tpageCount: PropTypes.number,\n\tpageRangeDisplayed: PropTypes.number\n};\n\nPaginate.defaultProps = {\n\tonPageChange: () => { },\n\tpageCount: 3,\n\tpageRangeDisplayed: 5\n};\n\nexport default Paginate;\n","import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n\tButton,\n\tCard,\n\tCardActions,\n\tCardContent,\n\tCardMedia,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core';\n\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ClearRoundedIcon from '@material-ui/icons/ClearRounded';\n\nimport NumberFormat from 'react-number-format';\n\nconst useStyles = makeStyles(() => ({\n\troot: {\n\t\toutline: 'none',\n\t},\n\tmedia: {\n\t\theight: 0,\n\t\tpaddingTop: '85%', // 16:9\n\t},\n\tcart: {\n\t\tmarginLeft: 'auto !important',\n\t}\n}));\n\nfunction ProductCard({\n\tobject,\n\tclassName,\n\tonAdded,\n\tonRemoved,\n\t...rest\n}) {\n\tconst classes = useStyles();\n\n\tconst [isSelected, setSelected] = useState(object.isSelected || false);\n\n\t//\tFunctions\n\n\tconst handleAdd = () => {\n\t\tsetSelected(true);\n\t\tonAdded();\n\t};\n\n\tconst handleRemove = () => {\n\t\tsetSelected(false);\n\t\tonRemoved();\n\t};\n\n\treturn (\n\t\t<Card\n\t\t\t{...rest}\n\t\t\tclassName={clsx(\n\t\t\t\tclasses.root,\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t<CardMedia\n\t\t\t\tclassName={classes.media}\n\t\t\t\timage={object.imageUrl}\n\t\t\t\tsrc=\"img\"\n\t\t\t/>\n\t\t\t<CardContent className={classes.content}>\n\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h2\">\n\t\t\t\t\t{object.name}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography gutterBottom color=\"textSecondary\" variant=\"subtitle2\" component=\"h4\">\n\t\t\t\t\t<NumberFormat value={object.price.toNumber()} displayType=\"text\" prefix=\"฿\" thousandSeparator />\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\t\t\t\t\t{object.description}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>\n\t\t\t<CardActions>\n\t\t\t\t<IconButton aria-label=\"add to favorite\">\n\t\t\t\t\t<FavoriteIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t{!isSelected && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={classes.cart}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleAdd}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{isSelected && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={classes.cart}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={handleRemove}\n\t\t\t\t\t\tstartIcon={<ClearRoundedIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tRemove\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</CardActions>\n\t\t</Card>\n\t);\n}\n\nProductCard.propTypes = {\n\tclassName: PropTypes.string,\n\tobject: PropTypes.any.isRequired,\n\tonAdded: PropTypes.func.isRequired,\n\tonRemoved: PropTypes.func.isRequired,\n};\n\nexport default ProductCard;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n\tButton,\n\tGrid,\n\tMenu,\n\tMenuItem,\n\tListItemText,\n\tTypography\n} from '@material-ui/core';\nimport { ToggleButtonGroup, ToggleButton } from '@material-ui/lab';\nimport ViewModuleIcon from '@material-ui/icons/ViewModule';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Paginate from 'src/components/Paginate';\nimport ProductCard from './ProductCard';\n\nconst locale = require('react-redux-i18n').I18n;\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {},\n\theader: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'space-between',\n\t\tflexWrap: 'wrap',\n\t\tmarginBottom: theme.spacing(2)\n\t},\n\ttitle: {\n\t\tposition: 'relative',\n\t\t'&:after': {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: -8,\n\t\t\tleft: 0,\n\t\t\tcontent: '\" \"',\n\t\t\theight: 3,\n\t\t\twidth: 48,\n\t\t\tbackgroundColor: theme.palette.primary.main\n\t\t}\n\t},\n\tactions: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t},\n\tsortButton: {\n\t\ttextTransform: 'none',\n\t\tletterSpacing: 0,\n\t\tmarginRight: theme.spacing(2)\n\t},\n\tpaginate: {\n\t\tmarginTop: theme.spacing(3),\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center'\n\t}\n}));\n\nfunction Results({\n\tclassName,\n\tobjects,\n\tonChangePage,\n\tonProductAdded,\n\tonProductRemoved,\n\tonSorting,\n\tpage,\n\trowsPerPage,\n\ttotal,\n\t...rest\n}) {\n\tconst classes = useStyles();\n\tconst sortRef = useRef(null);\n\tconst [openSort, setOpenSort] = useState(false);\n\tconst [selectedSort, setSelectedSort] = useState('title');\n\tconst [mode, setMode] = useState('grid');\n\n\tconst options = [\n\t\t{ id: 'title', title: locale.t('sorting.item'), order: 'asc' },\n\t\t{ id: 'created_date', title: locale.t('sorting.item2'), order: 'desc' },\n\t];\n\n\tconst handleSortOpen = () => {\n\t\tsetOpenSort(true);\n\t};\n\n\tconst handleSortClose = () => {\n\t\tsetOpenSort(false);\n\t};\n\n\tconst handleSortSelect = (value) => {\n\t\tsetSelectedSort(value.id);\n\t\tsetOpenSort(false);\n\n\t\tonSorting(value.order, value.id);\n\t};\n\n\tconst handleModeChange = (event, value) => {\n\t\tsetMode(value);\n\t};\n\n\tconst handleChangePage = (selectedItem) => {\n\t\tonChangePage(selectedItem.selected);\n\t};\n\n\tconst handleProductAdded = (i) => {\n\t\t//\tCallback\n\t\tonProductAdded(objects[i]);\n\t};\n\n\tconst handleProductRemoved = (i) => {\n\t\t//\tCallback\n\t\tonProductRemoved(objects[i].id);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\t{...rest}\n\t\t\tclassName={clsx(classes.root, className)}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<Typography\n\t\t\t\t\tclassName={classes.title}\n\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t>\n\t\t\t\t\t{total}\n\t\t\t\t\t{locale.t('result_table.hint')}\n\t\t\t\t\t{page + 1}\n\t\t\t\t\t{locale.t('result_table.hint2')}\n\t\t\t\t\t{Math.ceil(total / rowsPerPage)}\n\t\t\t\t</Typography>\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={classes.sortButton}\n\t\t\t\t\t\tonClick={handleSortOpen}\n\t\t\t\t\t\tref={sortRef}\n\t\t\t\t\t>\n\t\t\t\t\t\t{options.filter((option) => option.id === selectedSort).map((option) => option.title)}\n\t\t\t\t\t\t<ArrowDropDownIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\texclusive\n\t\t\t\t\t\tonChange={handleModeChange}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvalue={mode}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleButton value=\"grid\">\n\t\t\t\t\t\t\t<ViewModuleIcon />\n\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={3}\n\t\t\t>\n\t\t\t\t{objects.map((object, i) => (\n\t\t\t\t\t<Grid\n\t\t\t\t\t\titem\n\t\t\t\t\t\tkey={object.id}\n\t\t\t\t\t\tmd={mode === 'grid' ? 4 : 12}\n\t\t\t\t\t\tsm={mode === 'grid' ? 6 : 12}\n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ProductCard\n\t\t\t\t\t\t\tkey={object.id}\n\t\t\t\t\t\t\tobject={object}\n\t\t\t\t\t\t\tonAdded={() => handleProductAdded(i)}\n\t\t\t\t\t\t\tonRemoved={() => handleProductRemoved(i)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t))}\n\t\t\t</Grid>\n\t\t\t<div className={classes.paginate}>\n\t\t\t\t<Paginate\n\t\t\t\t\tnextLabel={locale.t('btn.next')}\n\t\t\t\t\tpreviousLabel={locale.t('btn.previous')}\n\t\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\t\tpageCount={Math.ceil(total / rowsPerPage)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Menu\n\t\t\t\tanchorEl={sortRef.current}\n\t\t\t\tclassName={classes.menu}\n\t\t\t\tonClose={handleSortClose}\n\t\t\t\topen={openSort}\n\t\t\t\televation={1}\n\t\t\t>\n\t\t\t\t{options.map((option) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tclassName={classes.menuItem}\n\t\t\t\t\t\tkey={option.id}\n\t\t\t\t\t\tonClick={() => handleSortSelect(option)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemText primary={option.title} />\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nResults.propTypes = {\n\tclassName: PropTypes.string,\n\tonChangePage: PropTypes.func,\n\tonSorting: PropTypes.func,\n\tonProductAdded: PropTypes.func.isRequired,\n\tonProductRemoved: PropTypes.func.isRequired,\n\tpage: PropTypes.number,\n};\n\nexport default Results;\n","import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableRow,\n\tTypography\n} from '@material-ui/core';\n\nimport NumberFormat from 'react-number-format';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tmargin: theme.spacing(0, -3)\n\t},\n\tinner: {\n\t\tminWidth: 600\n\t},\n\tcontent: {\n\t\tpadding: 0\n\t},\n\tqty: {\n\t\twidth: 66,\n\t\t'& input': {\n\t\t\ttextAlign: 'center'\n\t\t}\n\t}\n}));\n\nconst CheckoutResults = (props) => {\n\tconst headerCells = [\n\t\t{\n\t\t\tid: 'no', label: 'ลำดับ', align: 'center', sorting: true\n\t\t},\n\t\t{\n\t\t\tid: 'title', label: 'ชื่อสินค้า', align: 'left', sorting: true\n\t\t},\n\t\t{\n\t\t\tid: 'price', label: 'ราคาต่อชิ้น', align: 'right', sorting: true\n\t\t},\n\t];\n\n\t//\tConstants\n\tconst {\n\t\tclassName,\n\t\tobjects,\n\t\tshippingPrice,\n\t\ttotalPrice,\n\t\ttotalETH,\n\t\t...rest\n\t} = props;\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div\n\t\t\t{...rest}\n\t\t\tclassName={clsx(classes.root, className)}\n\t\t>\n\t\t\t<PerfectScrollbar>\n\t\t\t\t<div className={classes.inner}>\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{headerCells.map((headerCell) => (\n\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\tkey={headerCell.id}\n\t\t\t\t\t\t\t\t\t\talign={headerCell.align}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{headerCell.label}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{objects.map((object, i) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\tkey={object.id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat value={(i + 1)} displayType=\"text\" thousandSeparator />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<strong>{object.name}</strong>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t<strong><NumberFormat value={object.price.toNumber()} displayType=\"text\" prefix=\"฿\" thousandSeparator /></strong>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\talign=\"right\"\n\t\t\t\t\t\t\t\t\tcolSpan={2}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tรวมทั้งหมด\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<strong><NumberFormat value={totalPrice} displayType=\"text\" prefix=\"฿\" thousandSeparator /></strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\talign=\"right\"\n\t\t\t\t\t\t\t\t\tcolSpan={2}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tชำระด้วย Crypto\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<strong><NumberFormat decimalScale={6} value={totalETH} displayType=\"text\" prefix=\"≈ \" suffix=\" ETH\" thousandSeparator /></strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t</PerfectScrollbar>\n\t\t</div>\n\t);\n};\n\nCheckoutResults.propTypes = {\n\tclassName: PropTypes.string,\n\tobjects: PropTypes.array,\n\tshippingPrice: PropTypes.number.isRequired,\n\ttotalPrice: PropTypes.number.isRequired,\n\ttotalETH: PropTypes.number.isRequired,\n};\n\nexport default CheckoutResults;\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n\tButton,\n\tCard,\n\tCardActions,\n\tCardContent,\n\tCardHeader,\n\tCircularProgress,\n\tDivider,\n\tGrid,\n\tModal,\n\tTypography,\n} from '@material-ui/core';\n\nimport DoneRoundedIcon from '@material-ui/icons/DoneRounded';\n\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport InfoSnackbar from 'src/components/Snackbars/InfoSnackbar';\n\nimport CheckoutResults from './CheckoutResults';\n\nimport _ from 'lodash';\n\nimport { useWeb3React } from '@web3-react/core';\nimport { Contract } from '@ethersproject/contracts';\nimport { parseEther } from '@ethersproject/units';\nimport { InjectedConnector } from '@web3-react/injected-connector';\n\nimport ERC20ABI from 'src/configs/abi.json';\n\nimport axios from 'src/utils/axios';\nimport * as WebAPI from 'src/configs/WebAPI';\n\nimport * as Constant from 'src/configs/Constant';\n\nconst locale = require('react-redux-i18n').I18n;\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\ttransform: 'translate(-50%, -50%)',\n\t\toutline: 'none',\n\t\tboxShadow: theme.shadows[20],\n\t\twidth: 700,\n\t\tmaxHeight: '100%',\n\t\toverflowY: 'auto',\n\t\tmaxWidth: '100%'\n\t},\n\theader: {\n\t\tpadding: theme.spacing(0.5, 0)\n\t},\n\tcontent: {\n\t\tpadding: theme.spacing(0, 3, 3)\n\t},\n\tcontainer: {\n\t},\n\tactions: {\n\t\tbackgroundColor: theme.palette.background.default,\n\t\tjustifyContent: 'flex-end'\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block'\n\t},\n\tbuttonProgress: {\n\t\tcolor: theme.palette.primary.main,\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t}\n}));\n\nconst CheckoutModal = (props) => {\n\tconst {\n\t\tclassName,\n\t\topen,\n\t\tonClose,\n\t\tproducts,\n\t\t...rest\n\t} = props;\n\n\tconst classes = useStyles();\n\n\tconst [loading, setLoading] = useState(false);\n\tconst [openSnackbar, setOpenSnackbar] = useState(false);\n\n\tconst totalPrice = _.sum(products.map((item) => item.price.toNumber()));\n\tconst [totalETH, setTotalETH] = useState(0);\n\n\tconst { activate, library } = useWeb3React();\n\tconst injectedConnector = new InjectedConnector({\n\t\tsupportedChainIds: Constant.SUPPORTED_CHAIN_IDS,\n\t});\n\n\tif (!open) {\n\t\treturn null;\n\t}\n\n\t//\tFunctions\n\n\tuseEffect(() => {\n\t\t//\tWeb3 activate connector\n\t\tactivate(injectedConnector);\n\n\t\t//\tFind exchange rate\n\t\tconst values = {\n\t\t\tfsym: 'ETH',\n\t\t\ttsyms: 'THB'\n\t\t};\n\t\taxios.get(WebAPI.SYMBOL_PRICE,\n\t\t\t{ params: values })\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tconst { data } = response;\n\t\t\t\t\tsetTotalETH(totalPrice / data.THB);\n\t\t\t\t}\n\t\t\t}, (error) => {\n\t\t\t\tsetLoading(false);\n\t\t\t\treturn error;\n\t\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst handleSnackbarClose = () => {\n\t\tsetOpenSnackbar(false);\n\t};\n\n\tconst handleSubmitForm = () => {\n\t\t//\tCall api\n\t\tsetLoading(true);\n\t\t// eslint-disable-next-line no-use-before-define\n\t\tdoCreate();\n\t};\n\n\tconst doCreate = async () => {\n\t\tconst address = Constant.SMART_CONTRACT_ADDR;\n\t\tconst contract = new Contract(address, ERC20ABI, library.getSigner());\n\t\tcontract.on('PurchaseMade', () => {\n\t\t\tsetOpenSnackbar(false);\n\n\t\t\t//\tClose with timeout\n\t\t\tsetTimeout(() => {\n\t\t\t\tonClose(true);\n\t\t\t}, 1000);\n\t\t});\n\n\t\t//\tPurchase order\n\t\tconst decimalPlaces = 18;\n\t\tconst overrides = {\n\t\t\tvalue: parseEther(totalETH.toFixed(decimalPlaces))\n\t\t};\n\t\tcontract.purchase(`OR-${Date.now()}`, totalPrice, overrides).then((tx) => {\n\t\t\t// console.log('tx', tx);\n\t\t\tsetOpenSnackbar(true);\n\t\t}).catch(() => {\n\t\t\t//\tReject tx\n\t\t\tsetOpenSnackbar(false);\n\t\t\tsetLoading(false);\n\t\t});\n\t\treturn () => {\n\t\t};\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tBackdropComponent={Backdrop}\n\t\t\tBackdropProps={{\n\t\t\t\ttimeout: 500,\n\t\t\t}}\n\t\t\tcloseAfterTransition\n\t\t\tdisableBackdropClick\n\t\t\tonClose={() => {\n\t\t\t\tonClose(false);\n\t\t\t}}\n\t\t\topen={open}\n\t\t>\n\t\t\t<Fade in={open}>\n\t\t\t\t<Card\n\t\t\t\t\t{...rest}\n\t\t\t\t\tclassName={clsx(classes.root, className)}\n\t\t\t\t>\n\t\t\t\t\t<CardHeader title={(\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\tclassName={classes.header}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tรายการสั่งซื้อของคุณ\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<CardContent className={classes.content}>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tspacing={3}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\tmd={12}\n\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CheckoutResults\n\t\t\t\t\t\t\t\t\tobjects={products}\n\t\t\t\t\t\t\t\t\tshippingPrice={0}\n\t\t\t\t\t\t\t\t\ttotalPrice={totalPrice}\n\t\t\t\t\t\t\t\t\ttotalETH={totalETH}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<CardActions className={classes.actions}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{locale.t('btn.close')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.submitButton}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tonClick={handleSubmitForm}\n\t\t\t\t\t\t\t\tstartIcon={<DoneRoundedIcon />}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tเริ่มชำระเงิน\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardActions>\n\t\t\t\t\t<InfoSnackbar\n\t\t\t\t\t\tmessage=\"เริ่มดำเนินการสร้าง Transaction บน Ethereum\"\n\t\t\t\t\t\tonClose={handleSnackbarClose}\n\t\t\t\t\t\topen={openSnackbar}\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t</Fade>\n\t\t</Modal>\n\t);\n};\n\n\nCheckoutModal.propTypes = {\n\tclassName: PropTypes.string,\n\tonClose: PropTypes.func,\n\topen: PropTypes.bool,\n\tproducts: PropTypes.array\n};\n\nCheckoutModal.defaultProps = {\n\topen: false,\n\tonClose: () => { }\n};\n\nexport default CheckoutModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport { Snackbar, SnackbarContent, colors } from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircleOutlined';\nimport Slide from '@material-ui/core/Slide';\n\nconst useStyles = makeStyles((theme) => ({\n\tcontent: {\n\t\tbackgroundColor: colors.green[600]\n\t},\n\tmessage: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(2)\n\t}\n}));\n\nfunction SlideTransition(props) {\n\treturn <Slide {...props} direction=\"down\" />;\n}\n\nfunction SuccessSnackbar({ message, open, onClose }) {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Snackbar\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: 'top',\n\t\t\t\thorizontal: 'center'\n\t\t\t}}\n\t\t\tautoHideDuration={6000}\n\t\t\tonClose={onClose}\n\t\t\topen={open}\n\t\t\tTransitionComponent={SlideTransition}\n\t\t>\n\t\t\t<SnackbarContent\n\t\t\t\tclassName={classes.content}\n\t\t\t\tmessage={(\n\t\t\t\t\t<span className={classes.message}>\n\t\t\t\t\t\t<CheckCircleIcon className={classes.icon} />\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\tcomponent=\"h6\"\n\t\t\t/>\n\t\t</Snackbar>\n\t);\n}\n\nSuccessSnackbar.propTypes = {\n\tmessage: PropTypes.string,\n\tonClose: PropTypes.func,\n\topen: PropTypes.bool\n};\n\nSuccessSnackbar.defaultProps = {\n\tmessage: '',\n\topen: true,\n\tonClose: () => { }\n};\n\nexport default SuccessSnackbar;\n","import React, { useState, useEffect } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\nimport {\n\tContainer\n} from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport Header from './Header';\nimport Results from './Results';\nimport CheckoutModal from './CheckoutModal';\n\nimport SuccessSnackbar from 'src/components/Snackbars/SuccessSnackbar';\n\nimport { useWeb3React } from '@web3-react/core';\nimport { Contract } from '@ethersproject/contracts';\nimport { InjectedConnector } from '@web3-react/injected-connector';\n\nimport ERC20ABI from 'src/configs/abi.json';\n\nimport * as Constant from 'src/configs/Constant';\n\nconst locale = require('react-redux-i18n').I18n;\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tpadding: theme.spacing(3, 0)\n\t},\n\tresults: {\n\t\tmarginTop: theme.spacing(3)\n\t}\n}));\n\nconst ProductList = () => {\n\tconst classes = useStyles();\n\tconst [objects, setObjects] = useState(null);\n\tconst [total, setTotal] = useState(0);\n\tconst [values, setValues] = useState({\n\t\tsearch: '',\n\t\ttype: 'article',\n\t\tcategory_ids: '',\n\t\ttags: '',\n\t\tpage: 0,\n\t\tsort_by: 'title',\n\t\tsort_order: 'asc',\n\t\trows_per_page: 30\n\t});\n\n\tconst [productIds, setProductIds] = useState([]);\n\n\tconst [openModal, setOpenModal] = useState(false);\n\tconst [openSnackbar, setOpenSnackbar] = useState(false);\n\n\tconst {\n\t\tchainId, activate, active, library\n\t} = useWeb3React();\n\tconst injectedConnector = new InjectedConnector({\n\t\tsupportedChainIds: Constant.SUPPORTED_CHAIN_IDS,\n\t});\n\n\t//\tFunctions\n\n\tuseEffect(() => {\n\t\t//\tWeb3 activate connector\n\t\tactivate(injectedConnector);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (chainId && active) {\n\t\t\tconst fetchObjects = async () => {\n\t\t\t\tconst address = Constant.SMART_CONTRACT_ADDR;\n\t\t\t\tconst contract = new Contract(address, ERC20ABI, library.getSigner());\n\t\t\t\tconst products = await contract.getAllProduct();\n\n\t\t\t\tsetObjects(products);\n\t\t\t\tsetTotal(products.length);\n\t\t\t};\n\t\t\tfetchObjects();\n\t\t}\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chainId]);\n\n\tconst handleSorting = (sortOrder, sortBy) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tsort_by: sortBy,\n\t\t\tsort_order: sortOrder\n\t\t});\n\t};\n\tconst handleChangePage = (page) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tpage\n\t\t});\n\t};\n\n\tconst handleProductAdded = (item) => {\n\t\tconst newProductIds = [...productIds];\n\t\tnewProductIds.push(item);\n\t\tsetProductIds(newProductIds);\n\t};\n\n\tconst handleProductRemoved = (id) => {\n\t\tconst newProductIds = [...productIds];\n\t\tconst index = newProductIds.findIndex((item) => item.id === id);\n\t\tnewProductIds.splice(index, 1);\n\t\tsetProductIds(newProductIds);\n\t};\n\n\tconst handleCheckout = () => {\n\t\tsetOpenModal(true);\n\t};\n\n\tconst handleCheckoutClose = (flag) => {\n\t\tif (flag) {\n\t\t\tsetOpenSnackbar(true);\n\t\t}\n\t\tsetOpenModal(false);\n\t};\n\n\tconst handleSnackbarClose = () => {\n\t\tsetOpenSnackbar(false);\n\t};\n\n\treturn (\n\t\t<Page\n\t\t\tclassName={classes.root}\n\t\t\ttitle={locale.t('products.title')}\n\t\t>\n\t\t\t<Container maxWidth=\"lg\">\n\t\t\t\t<Header\n\t\t\t\t\tallowCheckout={productIds.length > 0}\n\t\t\t\t\tonCheckout={handleCheckout}\n\t\t\t\t/>\n\t\t\t\t{objects && objects.length > 0 && (\n\t\t\t\t\t<Results\n\t\t\t\t\t\tclassName={classes.results}\n\t\t\t\t\t\tobjects={objects}\n\t\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\t\tonProductAdded={handleProductAdded}\n\t\t\t\t\t\tonProductRemoved={handleProductRemoved}\n\t\t\t\t\t\tonSorting={handleSorting}\n\t\t\t\t\t\tpage={values.page}\n\t\t\t\t\t\trowsPerPage={values.rows_per_page}\n\t\t\t\t\t\ttotal={total}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{openModal && (\n\t\t\t\t\t<CheckoutModal\n\t\t\t\t\t\tonClose={handleCheckoutClose}\n\t\t\t\t\t\topen={openModal}\n\t\t\t\t\t\tproducts={productIds}\n\t\t\t\t\t/>\n\n\t\t\t\t)}\n\t\t\t\t<SuccessSnackbar\n\t\t\t\t\tmessage=\"บันทึกรายการคำสั่งซื้อเรียบร้อยแล้ว\"\n\t\t\t\t\tonClose={handleSnackbarClose}\n\t\t\t\t\topen={openSnackbar}\n\t\t\t\t/>\n\t\t\t</Container>\n\t\t</Page>\n\t);\n};\n\nexport default ProductList;\n","export const SUPPORTED_CHAIN_IDS = [\n\t1, // Mainet\n\t3, // Ropsten\n\t4, // Rinkeby\n\t5, // Goerli\n\t42, // Kovan\n];\nexport const SMART_CONTRACT_ADDR = '0x67324C484f35Aae0004f60ff2A109219D2620CB5';\n"],"sourceRoot":""}