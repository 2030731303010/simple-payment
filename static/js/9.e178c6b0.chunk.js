(this["webpackJsonppayment-backend-app"]=this["webpackJsonppayment-backend-app"]||[]).push([[9],{1174:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(3),i=a.n(r),c=a(962),l=a(38),s=a(0),o=a.n(s),m=a(62),u=a.n(m),p=a(873),g=a(920),d=a(271),b=a(37),h=a(7),y=a(919),f=a(69),E=a(1148),v=a(1161),j=a(907),O=a(1164),_=a(909),w=a(1172),N=a(875),T=a.n(N),P=a(79).I18n,x=Object(p.a)((function(e){return{root:{},keywords:{padding:e.spacing(2),display:"flex",alignItems:"center"},searchIcon:{color:e.palette.icon,marginRight:e.spacing(2)},input:{width:"100%"},selects:{padding:e.spacing(2),"& > * + *":{marginLeft:e.spacing(2)}}}}));var D=function(e){var t=e.className,a=e.onSearch,r=Object(b.a)(e,["className","onSearch"]),i=x(),c=Object(s.useState)({values:{query:"",status:-1}}),m=Object(l.a)(c,2),p=m[0],g=m[1],d=Object(s.useState)({startDate:u()(),endDate:u()()}),N=Object(l.a)(d,2),D=N[0],k=N[1],S=function(e){e.persist();var t=Object(n.a)(Object(n.a)({},p),{},{values:Object(n.a)(Object(n.a)({},p.values),{},Object(f.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)),touched:Object(n.a)(Object(n.a)({},p.touched),{},Object(f.a)({},e.target.name,!0))});g(t),"status"===e.target.name&&a(Object(n.a)(Object(n.a)({},D),t.values))},C=function(e,t){var r=Object(n.a)({},D);"startDate"===t&&e>r.endDate.valueOf()&&(r.endDate=e),"endDate"===t&&e<r.startDate.valueOf()&&(r.startDate=e);var i=Object(n.a)(Object(n.a)({},r),{},Object(f.a)({},t,e));k(i),a(Object(n.a)(Object(n.a)({},i),p.values))};return o.a.createElement(E.a,Object.assign({},r,{className:Object(h.a)(i.root,t)}),o.a.createElement("div",{className:i.keywords},o.a.createElement(T.a,{className:i.searchIcon}),o.a.createElement(v.a,{className:i.input,disableUnderline:!0,name:"query",onChange:S,onKeyUp:function(e){e.persist(),13===e.keyCode&&a(Object(n.a)(Object(n.a)({},D),p.values))},placeholder:P.t("shopping.customer_orders.search.search_placeholder"),value:p.values.query||""})),o.a.createElement(j.a,null),o.a.createElement("div",{className:i.selects},o.a.createElement(y.a,{container:!0,spacing:3},o.a.createElement(y.a,{item:!0,md:3,xs:12},o.a.createElement(O.a,{fullWidth:!0,label:P.t("shopping.customer_orders.search.status"),name:"status",onChange:S,select:!0,value:p.values.status||"",variant:"outlined"},o.a.createElement(_.a,{key:-1,value:-1},P.t("shopping.customer_orders.search.all_status")),[].map((function(e){return o.a.createElement(_.a,{key:e.id,value:e.id},e.name)})))),o.a.createElement(y.a,{item:!0,md:3,xs:6},o.a.createElement(w.a,{disableToolbar:!0,inputVariant:"outlined",variant:"inline",format:"DD/MM/yyyy",label:P.t("shopping.customer_orders.search.start_date"),value:D.startDate,onChange:function(e){return C(e,"startDate")},KeyboardButtonProps:{"aria-label":"change date"}})),o.a.createElement(y.a,{item:!0,md:3,xs:6},o.a.createElement(w.a,{disableToolbar:!0,inputVariant:"outlined",variant:"inline",format:"DD/MM/yyyy",label:P.t("shopping.customer_orders.search.end_date"),value:D.endDate,onChange:function(e){return C(e,"endDate")},KeyboardButtonProps:{"aria-label":"change date"}})))))},k=Object(p.a)((function(e){return{root:{},search:{marginTop:e.spacing(1)}}})),S=function(e){var t=e.onSearch,a=e.className,n=Object(b.a)(e,["onSearch","className"]),r=k();return o.a.createElement(y.a,Object.assign({},n,{className:Object(h.a)(r.root,a),container:!0,spacing:3}),o.a.createElement(y.a,{item:!0,md:12,xs:12},o.a.createElement(D,{className:r.search,onSearch:t})))},C=a(1176),M=a(78),I=a(1143),R=a.n(I),A=a(990),B=a.n(A),W=a(79).I18n,q=Object(p.a)((function(e){return{root:{},link:{display:"flex"},icon:{marginRight:e.spacing(1),width:20,height:20},typo:{display:"flex",marginTop:e.spacing(.5),alignItems:"center","& > * + *":{marginLeft:e.spacing(2)}},addIcon:{marginRight:e.spacing(1)}}})),U=function(e){var t=e.className,a=Object(b.a)(e,["className"]),n=q();return o.a.createElement("div",Object.assign({},a,{className:Object(h.a)(n.root,t)}),o.a.createElement(y.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},o.a.createElement(y.a,{item:!0},o.a.createElement(C.a,{separator:o.a.createElement(B.a,{fontSize:"small"}),"aria-label":"breadcrumb"},o.a.createElement(M.a,{className:n.link,color:"inherit"},o.a.createElement(R.a,{className:n.icon}),W.t("nav.shopping.default")),o.a.createElement(M.a,{className:n.link,color:"inherit"},W.t("nav.shopping.customer_orders.default"))),o.a.createElement("div",{className:n.typo},o.a.createElement(M.a,{component:"h1",variant:"h3"},W.t("shopping.customer_orders.header"))))))},z=a(93),H=a(964),J=a.n(H),K=a(11),L=a(906),V=a(1149),F=a(1156),G=a(1157),Q=a(1158),X=a(1159),Y=a(1181),Z=a(1160),$=a(921),ee=a(912),te=a(1154),ae=a(1175),ne=a(1144),re=a.n(ne),ie=a(963),ce=a(79).I18n,le=Object(p.a)((function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(1)},label:{color:K.a.grey[900],padding:e.spacing(0,1.5),fontWeight:"bold"},actions:{padding:e.spacing(1),justifyContent:"flex-end"}}})),se=function(e){var t=[{id:"no",label:ce.t("shopping.customer_orders.item_col"),align:"left",sorting:!0},{id:"total_price",label:ce.t("shopping.customer_orders.item_col2"),align:"right",sorting:!0},{id:"created_date",label:ce.t("shopping.customer_orders.item_col4"),align:"center",sorting:!0},{id:"action",label:ce.t("shopping.customer_orders.item_col5"),align:"left",sorting:!1}],a=Object(s.useState)("asc"),n=Object(l.a)(a,2),r=n[0],i=n[1],c=Object(s.useState)(t[0].id),m=Object(l.a)(c,2),p=m[0],g=m[1],d=e.className,y=e.objects,f=e.total,v=e.onChangePage,O=e.onChangeRowsPerPage,_=e.onSorting,w=e.page,N=e.rows,T=Object(b.a)(e,["className","objects","total","onChangePage","onChangeRowsPerPage","onSorting","page","rows"]),P=le(),x=Object(s.useState)(N),D=Object(l.a)(x,2),k=D[0],S=D[1],C=function(e){return function(t){!function(e,t){i(p===t&&"asc"===r?"desc":"asc"),g(t),_(r,t)}(0,e)}};return o.a.createElement("div",Object.assign({},T,{className:Object(h.a)(P.root,d)}),o.a.createElement(M.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},f,ce.t("result_table.hint"),w+1,ce.t("result_table.hint2"),Math.ceil(f/k)),o.a.createElement(E.a,null,o.a.createElement(L.a,{title:ce.t("shopping.customer_orders.result_title")}),o.a.createElement(j.a,null),o.a.createElement(V.a,{className:P.content},o.a.createElement(J.a,null,o.a.createElement("div",{className:P.inner},o.a.createElement(F.a,null,o.a.createElement(G.a,null,o.a.createElement(Q.a,null,t.map((function(e){return o.a.createElement(X.a,{key:e.id,align:e.align?e.align:"center",sortDirection:p===e.id&&r},e.sorting&&o.a.createElement(Y.a,{active:p===e.id,direction:p===e.id?r:"asc",onClick:C(e.id)},e.label),!e.sorting&&e.label)})))),o.a.createElement(Z.a,null,y.slice(0,k).map((function(e){return o.a.createElement(Q.a,{hover:!0,key:e.id},o.a.createElement(X.a,null,o.a.createElement("div",{className:P.nameCell},o.a.createElement("div",null,o.a.createElement($.a,{color:"inherit",component:z.a,to:"/member/orders/".concat(e.id),variant:"h6"},o.a.createElement("strong",null,e.no))))),o.a.createElement(X.a,{align:"right"},o.a.createElement(ie.a,{value:e.totalPrice.toNumber(),displayType:"text",prefix:"\u0e3f",thousandSeparator:!0})),o.a.createElement(X.a,{align:"center"},u.a.unix(e.dateTime.toNumber()).format("DD MMMM yyyy HH:mm")),o.a.createElement(X.a,{align:"left"},o.a.createElement(ee.a,{"aria-label":"item-view",component:z.a,size:"small",to:"/member/orders/".concat(e.id),variant:"outlined"},o.a.createElement(re.a,null))))}))))))),o.a.createElement(te.a,{className:P.actions},o.a.createElement(ae.a,{component:"div",count:f,labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(-1===a?n:a," ").concat(ce.t("result_table.page_hint")," ").concat(-1!==n?n:"".concat(ce.t("result_table.page_hint2")," ").concat(a))},labelRowsPerPage:ce.t("result_table.rows_per_page"),onChangePage:function(e,t){v(t)},onChangeRowsPerPage:function(e){S(e.target.value),O(e.target.value)},page:w,rowsPerPage:k,rowsPerPageOptions:[5,10,25]}))))};se.defaultProps={objects:[],total:0};var oe=se,me=a(79).I18n,ue=Object(p.a)((function(e){return{root:{textAlign:"center",padding:e.spacing(5,3)},image:Object(f.a)({width:"100%",height:300,backgroundImage:'url("/images/illustrations/undraw_task_list_6x9d.svg")',backgroundPosition:"center center",backgroundSize:"contain",backgroundRepeat:"no-repeat",marginBottom:e.spacing(4)},e.breakpoints.down("xs"),{height:200})}}));var pe=function(e){var t=e.className,a=Object(b.a)(e,["className"]),n=ue();return o.a.createElement("div",Object.assign({},a,{className:Object(h.a)(n.root,t)}),o.a.createElement("div",{className:n.image}),o.a.createElement(M.a,{variant:"h4"},me.t("shopping.customer_orders.no_data")))},ge=a(1171),de=a(992),be=a.n(de),he=a(79).I18n,ye=Object(p.a)((function(e){return{root:{},content:{padding:0},inner:{minWidth:700},actions:{padding:e.spacing(2),justifyContent:"flex-end"}}})),fe=function(e){var t=[{id:"no",label:he.t("shopping.customer_orders.item_col"),align:"left",sorting:!0},{id:"total_price",label:he.t("shopping.customer_orders.item_col2"),align:"left",sorting:!0},{id:"status",label:he.t("shopping.customer_orders.item_col3"),align:"center",sorting:!0},{id:"created_date",label:he.t("shopping.customer_orders.item_col4"),align:"left",sorting:!0},{id:"action",label:he.t("shopping.customer_orders.item_col5"),align:"left",sorting:!1}],a=e.className,n=Object(b.a)(e,["className"]),r=ye();return o.a.createElement("div",Object.assign({},n,{className:Object(h.a)(r.root,a)}),o.a.createElement(M.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},he.t("result_table.loading")),o.a.createElement(E.a,null,o.a.createElement(L.a,{title:he.t("shopping.customer_orders.result_title")}),o.a.createElement(j.a,null),o.a.createElement(V.a,{className:r.content},o.a.createElement(J.a,null,o.a.createElement("div",{className:r.inner},o.a.createElement(F.a,null,o.a.createElement(G.a,null,o.a.createElement(Q.a,null,t.map((function(e){return o.a.createElement(X.a,{key:e.id,align:e.align?e.align:"center"},e.sorting&&o.a.createElement(Y.a,null,e.label),!e.sorting&&e.label)})))),o.a.createElement(Z.a,null,be.a.times(10,(function(e){return o.a.createElement(Q.a,{hover:!0,key:e},o.a.createElement(X.a,null,o.a.createElement(ge.a,{animation:"wave",width:220,height:24})),o.a.createElement(X.a,{align:"left"},o.a.createElement(ge.a,{animation:"wave",width:100,height:24})),o.a.createElement(X.a,{align:"left"},o.a.createElement(ge.a,{animation:"wave",width:70,height:24})),o.a.createElement(X.a,{align:"left"},o.a.createElement(ge.a,{animation:"wave",width:150,height:24})),o.a.createElement(X.a,{align:"left"},o.a.createElement(ge.a,{animation:"wave",variant:"circle",width:32,height:32})))}))))))),o.a.createElement(te.a,{className:r.actions},o.a.createElement(ge.a,{animation:"wave",height:24,width:200,style:{marginRight:16}}),o.a.createElement(ge.a,{animation:"wave",variant:"circle",width:32,height:32}),o.a.createElement(ge.a,{animation:"wave",variant:"circle",width:32,height:32}))))},Ee=a(279),ve=a(966),je=a(946),Oe=a(944),_e=a(934),we=a(79).I18n,Ne=Object(p.a)((function(e){return{root:{padding:e.spacing(3,0)},results:{marginTop:e.spacing(3)}}}));t.default=function(){var e=Ne(),t=Object(s.useState)(null),a=Object(l.a)(t,2),r=a[0],m=a[1],p=Object(s.useState)(0),b=Object(l.a)(p,2),h=b[0],y=b[1],f=Object(s.useState)({search:"",type:"member",page:0,sort_by:"created_date",sort_order:"desc",rows_per_page:10}),E=Object(l.a)(f,2),v=E[0],j=E[1],O=Object(Ee.b)(),_=O.chainId,w=O.account,N=O.activate,T=O.active,P=O.library,x=new je.a({supportedChainIds:_e.b});Object(s.useEffect)((function(){N(x)}),[]),Object(s.useEffect)((function(){_&&T&&function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_e.a,a=new ve.a(t,Oe,P.getSigner()),e.next=4,a.getAllOrder(w);case 4:n=e.sent,m(n),y(n.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[_]);return o.a.createElement(d.a,{className:e.root,title:we.t("shopping.customer_orders.title")},o.a.createElement(g.a,{maxWidth:"lg"},o.a.createElement(U,null),o.a.createElement(S,{onSearch:function(e){var t=Object(n.a)(Object(n.a)({},v),{},{search:e.query,status:e.status,start_date:u()(e.startDate).format("yyyy-MM-DD"),end_date:u()(e.endDate).format("yyyy-MM-DD"),page:0});-1===t.status&&delete t.status,j(t)}}),!r&&o.a.createElement(fe,{className:e.results}),r&&0===r.length&&o.a.createElement(pe,null),r&&r.length>0&&o.a.createElement(oe,{className:e.results,objects:r,onChangePage:function(e){j(Object(n.a)(Object(n.a)({},v),{},{page:e}))},onChangeRowsPerPage:function(e){j(Object(n.a)(Object(n.a)({},v),{},{rows_per_page:e}))},onSorting:function(e,t){j(Object(n.a)(Object(n.a)({},v),{},{sort_by:t,sort_order:e}))},page:v.page,rows:v.rows_per_page,total:h})))}},934:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=[1,3,4,5,42],r="0x67324C484f35Aae0004f60ff2A109219D2620CB5"},944:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"accountAddress","type":"address"},{"indexed":false,"internalType":"string","name":"no","type":"string"}],"name":"PurchaseMade","type":"event"},{"inputs":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string","name":"imageUrl","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"addProduct","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"no","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"}],"name":"purchase","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getAllOrder","outputs":[{"components":[{"internalType":"string","name":"no","type":"string"},{"internalType":"uint256","name":"totalPrice","type":"uint256"},{"internalType":"uint256","name":"totalETH","type":"uint256"},{"internalType":"uint256","name":"dateTime","type":"uint256"}],"internalType":"struct SimplePayment.Order[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllProduct","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string","name":"imageUrl","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"}],"internalType":"struct SimplePayment.Product[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')}}]);
//# sourceMappingURL=9.e178c6b0.chunk.js.map